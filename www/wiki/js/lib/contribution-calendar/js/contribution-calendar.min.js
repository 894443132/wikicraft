(function(j,l,d){var g={year:new Date().getFullYear(),week:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dateCount:{"2017-1-5":1,"2017-2-5":2,"2017-2-6":5,}};var h=l.createElementNS("http://www.w3.org/2000/svg","svg");var k=g.year;var a=0;var i=[];var c=g.week;var q=g.dateCount;function o(r){switch(r){case 0:color="#EBEDF0";break;case 1:color="#E8D8F8";break;case 2:color="#B5CdE6";break;case 3:color="#77A4D0";break;case 4:color="#3977AD";break;default:color="#3977AD"}return color}function b(r){if(q[r]){return q[r]}return 0}function f(s){var r={"month":1,"day":0};while(s>i[r.month]){s-=i[r.month];r.month++}r.day=s;return r}function m(t){for(var s=1;s<=12;s++){var r=new Date(t,s,0).getDate();i[s]=r;a+=r}return a}function e(r){for(var s=1;s<=12;s++){var u=l.createElementNS("http://www.w3.org/2000/svg","text");u.setAttribute("x",30+52*(s-1));u.setAttribute("y",-10);u.setAttribute("class","month");var t=l.createTextNode(s+"月");u.appendChild(t);r.appendChild(u)}return r}function n(r){for(var s=1;s<=7;s++){var t=c[new Date(k,0,s).getDay()];var v=l.createElementNS("http://www.w3.org/2000/svg","text");if(s%2===0){v.setAttribute("style","display:none")}v.setAttribute("y",10+12*(s-1));v.setAttribute("x",-36);v.setAttribute("class","month");var u=l.createTextNode(t);v.appendChild(u);r.appendChild(v)}return r}function p(x,t){for(var w=0;w<t;w++){if(w%7===0){var y=l.createElementNS("http://www.w3.org/2000/svg","g");y.setAttribute("transform","translate("+(13*(w/7))+",0)")}var A=w/7;var z=w%7;var s=l.createElementNS("http://www.w3.org/2000/svg","rect");var C=f(w+1);var v=k+"-"+C.month+"-"+C.day;s.setAttribute("data-date",v);var B=b(v);var u=o(B);s.setAttribute("data-count",B);s.setAttribute("fill",u);s.setAttribute("class","day");s.setAttribute("width","10");s.setAttribute("height","10");s.setAttribute("x",(14-A));s.setAttribute("y",(12*z));y.appendChild(s);x.appendChild(y)}return x}j.contributionCalendar=function(u,r){var s=l.getElementById(u);if(!s){console.log("传入的ID不存在");return}if(r.year){k=r.year}if(r.dateCount){q=r.dateCount}a=m(k);h=e(h);h=n(h);h=p(h,a);if(r.before){var t=l.getElementById(r.before);if(t){s.insertBefore(h,t)}else{s.appendChild(h)}}else{s.appendChild(h)}}})(window,document);